import argparse
from url_input import predict_url, plot_prediction

# Create a parser object
parser = argparse.ArgumentParser(description="Perform URL Prediction using Base Learners")

# Add common command-line arguments
parser.add_argument("command", help="The command to execute (predict)")
parser.add_argument("-i", "--input_path", help="Input path")


# Parse the command-line arguments
args = parser.parse_args()

# Check the command and execute corresponding action
if args.command == "predict":
    url_link = args.input_path
    output, prob = predict_url(url_link)
    print(f"URL : {url_link}")
    print(f"URL Prediction Output : {output}")
    print(f"URL Prediction Output Probabilities : {prob}")
    plot_prediction(url_link, prob*100, output)
else:
    print("Unknown command. Use 'predict' command.")
